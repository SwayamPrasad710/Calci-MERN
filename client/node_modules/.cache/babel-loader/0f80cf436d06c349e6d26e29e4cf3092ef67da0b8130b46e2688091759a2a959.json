{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../index.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const getEmoji=expression=>{const cleaned=expression.replace(/[()]/g,\"\");// remove parentheses\nconst operators=(cleaned.match(/[+\\-*/%]/g)||[]).length;const numbers=(cleaned.match(/\\d+/g)||[]).length;const complexity=operators+numbers;if(complexity<=3)return\"ðŸ˜¡\";// Very basic\nif(complexity<=5)return\"ðŸ˜ \";// Basic\nif(complexity<=7)return\"ðŸ™‚\";// Moderate\nif(complexity<=9)return\"ðŸ˜„\";// Complex\nreturn\"ðŸ˜ƒ\";// Very complex\n};const Calculator=()=>{const[expression,setExpression]=useState(\"\");const[result,setResult]=useState(\"\");const[lastExpression,setLastExpression]=useState(\"\");const[history,setHistory]=useState([]);const fetchHistory=async()=>{try{const res=await axios.get(\"http://localhost:5000/api/history\");setHistory(res.data);}catch(err){console.error(\"Error fetching history\",err);}};useEffect(()=>{fetchHistory();},[]);const handleCalculate=async()=>{try{const res=await axios.post(\"http://localhost:5000/api/calculate\",{expression});setResult(res.data.result);setLastExpression(expression);setExpression(\"\");fetchHistory();}catch(err){console.error(err);setResult(\"Error\");}};const handleClearHistory=async()=>{try{await axios.delete(\"http://localhost:5000/api/history\");setHistory([]);setResult(\"\");// ðŸ§½ Clear the result\nsetLastExpression(\"\");// ðŸ§½ Clear the last expression\n}catch(err){console.error(\"Error clearing history\",err);}};return/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"calculator-box\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"calculator-heading\",children:\"\\uD83E\\uDDEE Simply Calculate\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:expression,onChange:e=>setExpression(e.target.value),placeholder:\"Enter expression (e.g. 5 + 5)\",className:\"input-field\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCalculate,className:\"calculate-btn\",children:\"Calculate\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"result\",children:[\"Result: \",result,\" \",result&&getEmoji(lastExpression)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-box\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"history-title\",children:\"\\uD83D\\uDD52 Calculation History\"}),history.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-history-text\",children:\"No calculations yet.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"history-list\",children:history.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"history-item\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{className:\"expression\",children:item.expression}),\" \",\"= \",item.result,\" \",getEmoji(item.expression)]}),/*#__PURE__*/_jsx(\"small\",{className:\"timestamp\",children:new Date(item.createdAt).toLocaleString()})]},item._id))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearHistory,className:\"clear-btn\",children:\"Clear History\"})]})]})]})});};export default Calculator;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getEmoji","expression","cleaned","replace","operators","match","length","numbers","complexity","Calculator","setExpression","result","setResult","lastExpression","setLastExpression","history","setHistory","fetchHistory","res","get","data","err","console","error","handleCalculate","post","handleClearHistory","delete","className","children","type","value","onChange","e","target","placeholder","onClick","map","item","Date","createdAt","toLocaleString","_id"],"sources":["D:/Mern-Calculator/client/src/components/Calculator.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../index.css\";\r\n\r\nconst getEmoji = (expression) => {\r\n  const cleaned = expression.replace(/[()]/g, \"\"); // remove parentheses\r\n  const operators = (cleaned.match(/[+\\-*/%]/g) || []).length;\r\n  const numbers = (cleaned.match(/\\d+/g) || []).length;\r\n\r\n  const complexity = operators + numbers;\r\n\r\n  if (complexity <= 3) return \"ðŸ˜¡\"; // Very basic\r\n  if (complexity <= 5) return \"ðŸ˜ \"; // Basic\r\n  if (complexity <= 7) return \"ðŸ™‚\"; // Moderate\r\n  if (complexity <= 9) return \"ðŸ˜„\"; // Complex\r\n  return \"ðŸ˜ƒ\"; // Very complex\r\n};\r\n\r\nconst Calculator = () => {\r\n  const [expression, setExpression] = useState(\"\");\r\n  const [result, setResult] = useState(\"\");\r\n  const [lastExpression, setLastExpression] = useState(\"\");\r\n  const [history, setHistory] = useState([]);\r\n\r\n  const fetchHistory = async () => {\r\n    try {\r\n      const res = await axios.get(\"http://localhost:5000/api/history\");\r\n      setHistory(res.data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching history\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  const handleCalculate = async () => {\r\n    try {\r\n      const res = await axios.post(\"http://localhost:5000/api/calculate\", {\r\n        expression,\r\n      });\r\n      setResult(res.data.result);\r\n      setLastExpression(expression);\r\n      setExpression(\"\");\r\n      fetchHistory();\r\n    } catch (err) {\r\n      console.error(err);\r\n      setResult(\"Error\");\r\n    }\r\n  };\r\n\r\n  const handleClearHistory = async () => {\r\n    try {\r\n      await axios.delete(\"http://localhost:5000/api/history\");\r\n      setHistory([]);\r\n      setResult(\"\"); // ðŸ§½ Clear the result\r\n      setLastExpression(\"\"); // ðŸ§½ Clear the last expression\r\n    } catch (err) {\r\n      console.error(\"Error clearing history\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"calculator-box\">\r\n        <h2 className=\"calculator-heading\">ðŸ§® Simply Calculate</h2>\r\n\r\n        <input\r\n          type=\"text\"\r\n          value={expression}\r\n          onChange={(e) => setExpression(e.target.value)}\r\n          placeholder=\"Enter expression (e.g. 5 + 5)\"\r\n          className=\"input-field\"\r\n        />\r\n\r\n        <button onClick={handleCalculate} className=\"calculate-btn\">\r\n          Calculate\r\n        </button>\r\n\r\n        <h3 className=\"result\">\r\n          Result: {result} {result && getEmoji(lastExpression)}\r\n        </h3>\r\n\r\n        <div className=\"history-box\">\r\n          <h3 className=\"history-title\">ðŸ•’ Calculation History</h3>\r\n\r\n          {history.length === 0 ? (\r\n            <p className=\"no-history-text\">No calculations yet.</p>\r\n          ) : (\r\n            <>\r\n              <ul className=\"history-list\">\r\n                {history.map((item) => (\r\n                  <li key={item._id} className=\"history-item\">\r\n                    <div>\r\n                      <strong className=\"expression\">{item.expression}</strong>{\" \"}\r\n                      = {item.result} {getEmoji(item.expression)}\r\n                    </div>\r\n                    <small className=\"timestamp\">\r\n                      {new Date(item.createdAt).toLocaleString()}\r\n                    </small>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <button onClick={handleClearHistory} className=\"clear-btn\">\r\n                Clear History\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calculator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}